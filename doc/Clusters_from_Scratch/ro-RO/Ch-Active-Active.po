msgid ""
msgstr ""
"Project-Id-Version: Clusters from Scratch 1.1\n"
"POT-Creation-Date: 2011-11-18 07:09+0200\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: Dan Fr√Æncu <df.cluster@gmail.com>\n"
"Language-Team: ROMANIAN <RO@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"X-Poedit-Language: Romanian\n"
"X-Poedit-Country: ROMANIA\n"

#: Ch-Active-Active.xml:7(title)
msgid "Conversion to Active/Active"
msgstr ""

#: Ch-Active-Active.xml:9(title)
msgid "Requirements"
msgstr ""

#: Ch-Active-Active.xml:10(para)
msgid "The primary requirement for an Active/Active cluster is that the data required for your services is available, simultaneously, on both machines. Pacemaker makes no requirement on how this is achieved, you could use a SAN if you had one available, however since DRBD supports multiple Primaries, we can also use that."
msgstr ""

#: Ch-Active-Active.xml:14(para)
msgid "The only hitch is that we need to use a cluster-aware filesystem. The one we used earlier with DRBD, ext4, is not one of those. Both OCFS2 and GFS2 are supported, however here we will use GFS2 which comes with Fedora 13 ."
msgstr ""

#: Ch-Active-Active.xml:18(para)
msgid "We'll also need to use CMAN for Cluster Membership and Quorum instead of our Corosync plugin."
msgstr ""

#: Ch-Active-Active.xml:24(title)
msgid "Adding CMAN Support"
msgstr ""

#: Ch-Active-Active.xml:25(para)
msgid "<ulink url=\"http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html-single/Cluster_Suite_Overview/index.html#s2-clumembership-overview-CSO\">CMAN v3</ulink> is a Corsync plugin that monitors the names and number of active cluster nodes in order to deliver membership and quorum information to clients (such as the Pacemaker daemons)."
msgstr ""

#: Ch-Active-Active.xml:32(para)
msgid "A failure to do this can lead to what is called <literal>internal split-brain</literal> - a situation where different parts of the stack disagree about whether some nodes are alive or dead - which quickly leads to unnecssary down-time and/or data corruption."
msgstr ""

#: Ch-Active-Active.xml:28(para)
msgid "In a traditional Corosync-Pacemaker cluster, a Pacemaker plugin is loaded to provide membership and quorum information. The motivation for wanting to use CMAN for this instead, is to ensure all elements of the cluster stack are making decisions based on the same membership and quorum data. <placeholder-1/>"
msgstr ""

#: Ch-Active-Active.xml:37(para)
msgid "In the case of GFS2, the key pieces are the <filename>dlm_controld</filename> and <filename>gfs_controld</filename> helpers which act as the glue between the filesystem and the cluster software. Supporting CMAN enables us to use the versions already being shipped by most distributions (since CMAN has been around longer than Pacemaker and is part of the Red Hat cluster stack)."
msgstr ""

#: Ch-Active-Active.xml:42(para)
msgid "Ensure Corosync and Pacemaker are stopped <emphasis>on all nodes</emphasis> before continuing"
msgstr ""

#: Ch-Active-Active.xml:47(para)
msgid "Be sure to disable the Pacemaker plugin before continuing with this section. In most cases, this can be achieved by removing <filename>/etc/corosync/service.d/pcmk</filename> and stopping Corosync."
msgstr ""

#: Ch-Active-Active.xml:53(title)
msgid "Installing the required Software"
msgstr ""

#: Ch-Active-Active.xml:55(userinput)
#, no-wrap
msgid "yum install -y cman gfs2-utils gfs2-cluster"
msgstr ""

#: Ch-Active-Active.xml:54(screen)
#, no-wrap
msgid "\n[root@pcmk-1 ~]# <placeholder-1/>\nLoaded plugins: auto-update-debuginfo\nSetting up Install Process\nResolving Dependencies\n--&gt; Running transaction check\n---&gt; Package cman.x86_64 0:3.1.7-1.fc15 will be installed\n--&gt; Processing Dependency: modcluster &gt;= 0.18.1-1 for package: cman-3.1.7-1.fc15.x86_64\n--&gt; Processing Dependency: fence-agents &gt;= 3.1.5-1 for package: cman-3.1.7-1.fc15.x86_64\n--&gt; Processing Dependency: openais &gt;= 1.1.4-1 for package: cman-3.1.7-1.fc15.x86_64\n--&gt; Processing Dependency: ricci &gt;= 0.18.1-1 for package: cman-3.1.7-1.fc15.x86_64\n--&gt; Processing Dependency: libSaCkpt.so.3(OPENAIS_CKPT_B.01.01)(64bit) for package: cman-3.1.7-1.fc15.x86_64\n--&gt; Processing Dependency: libSaCkpt.so.3()(64bit) for package: cman-3.1.7-1.fc15.x86_64\n---&gt; Package gfs2-cluster.x86_64 0:3.1.1-2.fc15 will be installed\n---&gt; Package gfs2-utils.x86_64 0:3.1.1-2.fc15 will be installed\n--&gt; Running transaction check\n---&gt; Package fence-agents.x86_64 0:3.1.5-1.fc15 will be installed\n--&gt; Processing Dependency: /usr/bin/virsh for package: fence-agents-3.1.5-1.fc15.x86_64\n--&gt; Processing Dependency: net-snmp-utils for package: fence-agents-3.1.5-1.fc15.x86_64\n--&gt; Processing Dependency: sg3_utils for package: fence-agents-3.1.5-1.fc15.x86_64\n--&gt; Processing Dependency: perl(Net::Telnet) for package: fence-agents-3.1.5-1.fc15.x86_64\n--&gt; Processing Dependency: /usr/bin/ipmitool for package: fence-agents-3.1.5-1.fc15.x86_64\n--&gt; Processing Dependency: perl-Net-Telnet for package: fence-agents-3.1.5-1.fc15.x86_64\n--&gt; Processing Dependency: pexpect for package: fence-agents-3.1.5-1.fc15.x86_64\n--&gt; Processing Dependency: pyOpenSSL for package: fence-agents-3.1.5-1.fc15.x86_64\n--&gt; Processing Dependency: python-suds for package: fence-agents-3.1.5-1.fc15.x86_64\n---&gt; Package modcluster.x86_64 0:0.18.7-1.fc15 will be installed\n--&gt; Processing Dependency: oddjob for package: modcluster-0.18.7-1.fc15.x86_64\n---&gt; Package openais.x86_64 0:1.1.4-2.fc15 will be installed\n---&gt; Package openaislib.x86_64 0:1.1.4-2.fc15 will be installed\n---&gt; Package ricci.x86_64 0:0.18.7-1.fc15 will be installed\n--&gt; Processing Dependency: parted for package: ricci-0.18.7-1.fc15.x86_64\n--&gt; Processing Dependency: nss-tools for package: ricci-0.18.7-1.fc15.x86_64\n--&gt; Running transaction check\n---&gt; Package ipmitool.x86_64 0:1.8.11-6.fc15 will be installed\n---&gt; Package libvirt-client.x86_64 0:0.8.8-7.fc15 will be installed\n--&gt; Processing Dependency: libnetcf.so.1(NETCF_1.3.0)(64bit) for package: libvirt-client-0.8.8-7.fc15.x86_64\n--&gt; Processing Dependency: cyrus-sasl-md5 for package: libvirt-client-0.8.8-7.fc15.x86_64\n--&gt; Processing Dependency: gettext for package: libvirt-client-0.8.8-7.fc15.x86_64\n--&gt; Processing Dependency: nc for package: libvirt-client-0.8.8-7.fc15.x86_64\n--&gt; Processing Dependency: libnuma.so.1(libnuma_1.1)(64bit) for package: libvirt-client-0.8.8-7.fc15.x86_64\n--&gt; Processing Dependency: libnuma.so.1(libnuma_1.2)(64bit) for package: libvirt-client-0.8.8-7.fc15.x86_64\n--&gt; Processing Dependency: libnetcf.so.1(NETCF_1.2.0)(64bit) for package: libvirt-client-0.8.8-7.fc15.x86_64\n--&gt; Processing Dependency: gnutls-utils for package: libvirt-client-0.8.8-7.fc15.x86_64\n--&gt; Processing Dependency: libnetcf.so.1(NETCF_1.0.0)(64bit) for package: libvirt-client-0.8.8-7.fc15.x86_64\n--&gt; Processing Dependency: libxenstore.so.3.0()(64bit) for package: libvirt-client-0.8.8-7.fc15.x86_64\n--&gt; Processing Dependency: libyajl.so.1()(64bit) for package: libvirt-client-0.8.8-7.fc15.x86_64\n--&gt; Processing Dependency: libnl.so.1()(64bit) for package: libvirt-client-0.8.8-7.fc15.x86_64\n--&gt; Processing Dependency: libnuma.so.1()(64bit) for package: libvirt-client-0.8.8-7.fc15.x86_64\n--&gt; Processing Dependency: libaugeas.so.0()(64bit) for package: libvirt-client-0.8.8-7.fc15.x86_64\n--&gt; Processing Dependency: libnetcf.so.1()(64bit) for package: libvirt-client-0.8.8-7.fc15.x86_64\n---&gt; Package net-snmp-utils.x86_64 1:5.6.1-7.fc15 will be installed\n---&gt; Package nss-tools.x86_64 0:3.12.10-6.fc15 will be installed\n---&gt; Package oddjob.x86_64 0:0.31-2.fc15 will be installed\n---&gt; Package parted.x86_64 0:2.3-10.fc15 will be installed\n---&gt; Package perl-Net-Telnet.noarch 0:3.03-12.fc15 will be installed\n---&gt; Package pexpect.noarch 0:2.3-6.fc15 will be installed\n---&gt; Package pyOpenSSL.x86_64 0:0.10-3.fc15 will be installed\n---&gt; Package python-suds.noarch 0:0.3.9-3.fc15 will be installed\n---&gt; Package sg3_utils.x86_64 0:1.29-3.fc15 will be installed\n--&gt; Processing Dependency: sg3_utils-libs = 1.29-3.fc15 for package: sg3_utils-1.29-3.fc15.x86_64\n--&gt; Processing Dependency: libsgutils2.so.2()(64bit) for package: sg3_utils-1.29-3.fc15.x86_64\n--&gt; Running transaction check\n---&gt; Package augeas-libs.x86_64 0:0.9.0-1.fc15 will be installed\n---&gt; Package cyrus-sasl-md5.x86_64 0:2.1.23-18.fc15 will be installed\n---&gt; Package gettext.x86_64 0:0.18.1.1-7.fc15 will be installed\n--&gt; Processing Dependency: libgomp.so.1(GOMP_1.0)(64bit) for package: gettext-0.18.1.1-7.fc15.x86_64\n--&gt; Processing Dependency: libgettextlib-0.18.1.so()(64bit) for package: gettext-0.18.1.1-7.fc15.x86_64\n--&gt; Processing Dependency: libgettextsrc-0.18.1.so()(64bit) for package: gettext-0.18.1.1-7.fc15.x86_64\n--&gt; Processing Dependency: libgomp.so.1()(64bit) for package: gettext-0.18.1.1-7.fc15.x86_64\n---&gt; Package gnutls-utils.x86_64 0:2.10.5-1.fc15 will be installed\n---&gt; Package libnl.x86_64 0:1.1-14.fc15 will be installed\n---&gt; Package nc.x86_64 0:1.100-3.fc15 will be installed\n--&gt; Processing Dependency: libbsd.so.0(LIBBSD_0.0)(64bit) for package: nc-1.100-3.fc15.x86_64\n--&gt; Processing Dependency: libbsd.so.0(LIBBSD_0.2)(64bit) for package: nc-1.100-3.fc15.x86_64\n--&gt; Processing Dependency: libbsd.so.0()(64bit) for package: nc-1.100-3.fc15.x86_64\n---&gt; Package netcf-libs.x86_64 0:0.1.9-1.fc15 will be installed\n---&gt; Package numactl.x86_64 0:2.0.7-1.fc15 will be installed\n---&gt; Package sg3_utils-libs.x86_64 0:1.29-3.fc15 will be installed\n---&gt; Package xen-libs.x86_64 0:4.1.1-3.fc15 will be installed\n--&gt; Processing Dependency: xen-licenses for package: xen-libs-4.1.1-3.fc15.x86_64\n---&gt; Package yajl.x86_64 0:1.0.11-1.fc15 will be installed\n--&gt; Running transaction check\n---&gt; Package gettext-libs.x86_64 0:0.18.1.1-7.fc15 will be installed\n---&gt; Package libbsd.x86_64 0:0.2.0-4.fc15 will be installed\n---&gt; Package libgomp.x86_64 0:4.6.1-9.fc15 will be installed\n---&gt; Package xen-licenses.x86_64 0:4.1.1-3.fc15 will be installed\n--&gt; Finished Dependency Resolution\n\nDependencies Resolved\n\n=============================================================================\n Package              Arch        Version                 Repository    Size\n=============================================================================\nInstalling:\n cman                 x86_64      3.1.7-1.fc15            updates      366 k\n gfs2-cluster         x86_64      3.1.1-2.fc15            fedora        69 k\n gfs2-utils           x86_64      3.1.1-2.fc15            fedora       222 k\nInstalling for dependencies:\n augeas-libs          x86_64      0.9.0-1.fc15            updates      311 k\n cyrus-sasl-md5       x86_64      2.1.23-18.fc15          updates       46 k\n fence-agents         x86_64      3.1.5-1.fc15            updates      186 k\n gettext              x86_64      0.18.1.1-7.fc15         fedora       1.0 M\n gettext-libs         x86_64      0.18.1.1-7.fc15         fedora       610 k\n gnutls-utils         x86_64      2.10.5-1.fc15           fedora       101 k\n ipmitool             x86_64      1.8.11-6.fc15           fedora       273 k\n libbsd               x86_64      0.2.0-4.fc15            fedora        37 k\n libgomp              x86_64      4.6.1-9.fc15            updates       95 k\n libnl                x86_64      1.1-14.fc15             fedora       118 k\n libvirt-client       x86_64      0.8.8-7.fc15            updates      2.4 M\n modcluster           x86_64      0.18.7-1.fc15           fedora       187 k\n nc                   x86_64      1.100-3.fc15            updates       24 k\n net-snmp-utils       x86_64      1:5.6.1-7.fc15          fedora       180 k\n netcf-libs           x86_64      0.1.9-1.fc15            updates       50 k\n nss-tools            x86_64      3.12.10-6.fc15          updates      723 k\n numactl              x86_64      2.0.7-1.fc15            updates       54 k\n oddjob               x86_64      0.31-2.fc15             fedora        61 k\n openais              x86_64      1.1.4-2.fc15            fedora       190 k\n openaislib           x86_64      1.1.4-2.fc15            fedora        88 k\n parted               x86_64      2.3-10.fc15             updates      618 k\n perl-Net-Telnet      noarch      3.03-12.fc15            fedora        55 k\n pexpect              noarch      2.3-6.fc15              fedora       141 k\n pyOpenSSL            x86_64      0.10-3.fc15             fedora       198 k\n python-suds          noarch      0.3.9-3.fc15            fedora       195 k\n ricci                x86_64      0.18.7-1.fc15           fedora       584 k\n sg3_utils            x86_64      1.29-3.fc15             fedora       465 k\n sg3_utils-libs       x86_64      1.29-3.fc15             fedora        54 k\n xen-libs             x86_64      4.1.1-3.fc15            updates      310 k\n xen-licenses         x86_64      4.1.1-3.fc15            updates       64 k\n yajl                 x86_64      1.0.11-1.fc15           fedora        27 k\n\nTransaction Summary\n=============================================================================\nInstall      34 Package(s)\n\nTotal download size: 10 M\nInstalled size: 38 M\nDownloading Packages:\n(1/34): augeas-libs-0.9.0-1.fc15.x86_64.rpm           | 311 kB     00:00     \n(2/34): cman-3.1.7-1.fc15.x86_64.rpm                  | 366 kB     00:00     \n(3/34): cyrus-sasl-md5-2.1.23-18.fc15.x86_64.rpm      |  46 kB     00:00     \n(4/34): fence-agents-3.1.5-1.fc15.x86_64.rpm          | 186 kB     00:00     \n(5/34): gettext-0.18.1.1-7.fc15.x86_64.rpm            | 1.0 MB     00:01     \n(6/34): gettext-libs-0.18.1.1-7.fc15.x86_64.rpm       | 610 kB     00:00     \n(7/34): gfs2-cluster-3.1.1-2.fc15.x86_64.rpm          |  69 kB     00:00     \n(8/34): gfs2-utils-3.1.1-2.fc15.x86_64.rpm            | 222 kB     00:00     \n(9/34): gnutls-utils-2.10.5-1.fc15.x86_64.rpm         | 101 kB     00:00     \n(10/34): ipmitool-1.8.11-6.fc15.x86_64.rpm            | 273 kB     00:00     \n(11/34): libbsd-0.2.0-4.fc15.x86_64.rpm               |  37 kB     00:00     \n(12/34): libgomp-4.6.1-9.fc15.x86_64.rpm              |  95 kB     00:00     \n(13/34): libnl-1.1-14.fc15.x86_64.rpm                 | 118 kB     00:00     \n(14/34): libvirt-client-0.8.8-7.fc15.x86_64.rpm       | 2.4 MB     00:01     \n(15/34): modcluster-0.18.7-1.fc15.x86_64.rpm          | 187 kB     00:00     \n(16/34): nc-1.100-3.fc15.x86_64.rpm                   |  24 kB     00:00     \n(17/34): net-snmp-utils-5.6.1-7.fc15.x86_64.rpm       | 180 kB     00:00     \n(18/34): netcf-libs-0.1.9-1.fc15.x86_64.rpm           |  50 kB     00:00     \n(19/34): nss-tools-3.12.10-6.fc15.x86_64.rpm          | 723 kB     00:00     \n(20/34): numactl-2.0.7-1.fc15.x86_64.rpm              |  54 kB     00:00     \n(21/34): oddjob-0.31-2.fc15.x86_64.rpm                |  61 kB     00:00     \n(22/34): openais-1.1.4-2.fc15.x86_64.rpm              | 190 kB     00:00     \n(23/34): openaislib-1.1.4-2.fc15.x86_64.rpm           |  88 kB     00:00     \n(24/34): parted-2.3-10.fc15.x86_64.rpm                | 618 kB     00:00     \n(25/34): perl-Net-Telnet-3.03-12.fc15.noarch.rpm      |  55 kB     00:00     \n(26/34): pexpect-2.3-6.fc15.noarch.rpm                | 141 kB     00:00     \n(27/34): pyOpenSSL-0.10-3.fc15.x86_64.rpm             | 198 kB     00:00     \n(28/34): python-suds-0.3.9-3.fc15.noarch.rpm          | 195 kB     00:00     \n(29/34): ricci-0.18.7-1.fc15.x86_64.rpm               | 584 kB     00:00     \n(30/34): sg3_utils-1.29-3.fc15.x86_64.rpm             | 465 kB     00:00     \n(31/34): sg3_utils-libs-1.29-3.fc15.x86_64.rpm        |  54 kB     00:00     \n(32/34): xen-libs-4.1.1-3.fc15.x86_64.rpm             | 310 kB     00:00     \n(33/34): xen-licenses-4.1.1-3.fc15.x86_64.rpm         |  64 kB     00:00     \n(34/34): yajl-1.0.11-1.fc15.x86_64.rpm                |  27 kB     00:00     \n-----------------------------------------------------------------------------\nTotal                                        803 kB/s |  10 MB     00:12     \nRunning rpm_check_debug\nRunning Transaction Test\nTransaction Test Succeeded\nRunning Transaction\n  Installing : openais-1.1.4-2.fc15.x86_64                              1/34 \n  Installing : openaislib-1.1.4-2.fc15.x86_64                           2/34 \n  Installing : libnl-1.1-14.fc15.x86_64                                 3/34 \n  Installing : augeas-libs-0.9.0-1.fc15.x86_64                          4/34 \n  Installing : oddjob-0.31-2.fc15.x86_64                                5/34 \n  Installing : modcluster-0.18.7-1.fc15.x86_64                          6/34 \n  Installing : netcf-libs-0.1.9-1.fc15.x86_64                           7/34 \n  Installing : 1:net-snmp-utils-5.6.1-7.fc15.x86_64                     8/34 \n  Installing : sg3_utils-libs-1.29-3.fc15.x86_64                        9/34 \n  Installing : sg3_utils-1.29-3.fc15.x86_64                            10/34 \n  Installing : libgomp-4.6.1-9.fc15.x86_64                             11/34 \n  Installing : gnutls-utils-2.10.5-1.fc15.x86_64                       12/34 \n  Installing : pyOpenSSL-0.10-3.fc15.x86_64                            13/34 \n  Installing : parted-2.3-10.fc15.x86_64                               14/34 \n  Installing : cyrus-sasl-md5-2.1.23-18.fc15.x86_64                    15/34 \n  Installing : python-suds-0.3.9-3.fc15.noarch                         16/34 \n  Installing : ipmitool-1.8.11-6.fc15.x86_64                           17/34 \n  Installing : perl-Net-Telnet-3.03-12.fc15.noarch                     18/34 \n  Installing : numactl-2.0.7-1.fc15.x86_64                             19/34 \n  Installing : yajl-1.0.11-1.fc15.x86_64                               20/34 \n  Installing : gettext-libs-0.18.1.1-7.fc15.x86_64                     21/34 \n  Installing : gettext-0.18.1.1-7.fc15.x86_64                          22/34 \n  Installing : libbsd-0.2.0-4.fc15.x86_64                              23/34 \n  Installing : nc-1.100-3.fc15.x86_64                                  24/34 \n  Installing : xen-licenses-4.1.1-3.fc15.x86_64                        25/34 \n  Installing : xen-libs-4.1.1-3.fc15.x86_64                            26/34 \n  Installing : libvirt-client-0.8.8-7.fc15.x86_64                      27/34 \n\nNote: This output shows SysV services only and does not include native\n      systemd services. SysV configuration data might be overridden by native\n      systemd configuration.\n\n  Installing : nss-tools-3.12.10-6.fc15.x86_64                         28/34 \n  Installing : ricci-0.18.7-1.fc15.x86_64                              29/34 \n  Installing : pexpect-2.3-6.fc15.noarch                               30/34 \n  Installing : fence-agents-3.1.5-1.fc15.x86_64                        31/34 \n  Installing : cman-3.1.7-1.fc15.x86_64                                32/34 \n  Installing : gfs2-cluster-3.1.1-2.fc15.x86_64                        33/34 \n  Installing : gfs2-utils-3.1.1-2.fc15.x86_64                          34/34 \n\nInstalled:\n  cman.x86_64 0:3.1.7-1.fc15           gfs2-cluster.x86_64 0:3.1.1-2.fc15    \n  gfs2-utils.x86_64 0:3.1.1-2.fc15    \n\nDependency Installed:\n  augeas-libs.x86_64 0:0.9.0-1.fc15                                          \n  cyrus-sasl-md5.x86_64 0:2.1.23-18.fc15                                     \n  fence-agents.x86_64 0:3.1.5-1.fc15                                         \n  gettext.x86_64 0:0.18.1.1-7.fc15                                           \n  gettext-libs.x86_64 0:0.18.1.1-7.fc15                                      \n  gnutls-utils.x86_64 0:2.10.5-1.fc15                                        \n  ipmitool.x86_64 0:1.8.11-6.fc15                                            \n  libbsd.x86_64 0:0.2.0-4.fc15                                               \n  libgomp.x86_64 0:4.6.1-9.fc15                                              \n  libnl.x86_64 0:1.1-14.fc15                                                 \n  libvirt-client.x86_64 0:0.8.8-7.fc15                                       \n  modcluster.x86_64 0:0.18.7-1.fc15                                          \n  nc.x86_64 0:1.100-3.fc15                                                   \n  net-snmp-utils.x86_64 1:5.6.1-7.fc15                                       \n  netcf-libs.x86_64 0:0.1.9-1.fc15                                           \n  nss-tools.x86_64 0:3.12.10-6.fc15                                          \n  numactl.x86_64 0:2.0.7-1.fc15                                              \n  oddjob.x86_64 0:0.31-2.fc15                                                \n  openais.x86_64 0:1.1.4-2.fc15                                              \n  openaislib.x86_64 0:1.1.4-2.fc15                                           \n  parted.x86_64 0:2.3-10.fc15                                                \n  perl-Net-Telnet.noarch 0:3.03-12.fc15                                      \n  pexpect.noarch 0:2.3-6.fc15                                                \n  pyOpenSSL.x86_64 0:0.10-3.fc15                                             \n  python-suds.noarch 0:0.3.9-3.fc15                                          \n  ricci.x86_64 0:0.18.7-1.fc15                                               \n  sg3_utils.x86_64 0:1.29-3.fc15                                             \n  sg3_utils-libs.x86_64 0:1.29-3.fc15                                        \n  xen-libs.x86_64 0:4.1.1-3.fc15                                             \n  xen-licenses.x86_64 0:4.1.1-3.fc15                                         \n  yajl.x86_64 0:1.0.11-1.fc15                                                \n\nComplete!\n[root@pcmk-1 ~]#     \n      "
msgstr ""

#: Ch-Active-Active.xml:314(title)
msgid "Configuring CMAN"
msgstr ""

#: Ch-Active-Active.xml:315(para)
msgid "The first thing we need to do, is tell CMAN complete starting up even without quorum. We can do this by changing the quorum timeout setting:"
msgstr ""

#: Ch-Active-Active.xml:320(userinput)
#, no-wrap
msgid "sed -i.sed \"s/.*CMAN_QUORUM_TIMEOUT=.*/CMAN_QUORUM_TIMEOUT=0/g\" /etc/sysconfig/cman"
msgstr ""

#: Ch-Active-Active.xml:319(screen)
#, no-wrap
msgid "\n[root@pcmk-1 ~]# <placeholder-1/>\n      "
msgstr ""

#: Ch-Active-Active.xml:328(title)
msgid "Basic cluster.conf for a two-node cluster"
msgstr ""

#: Ch-Active-Active.xml:323(para)
msgid "Next we create a basic configuration file and place is in <filename>/etc/cluster/cluster.conf</filename>. The <constant>name</constant> used for each <constant>clusternode</constant> should correspond to that node's <command>uname -n</command>, just as Pacemaker expects. The <constant>nodeid</constant> can be any positive mumber but nust be unique. <placeholder-1/>"
msgstr ""

#: Ch-Active-Active.xml:345(title)
msgid "Configuring CMAN Fencing"
msgstr ""

#: Ch-Active-Active.xml:350(para)
msgid "Configuring real fencing devices in CMAN will result in nodes being fenced multiple times as different parts of the stack notice the node is missing or failed."
msgstr ""

#: Ch-Active-Active.xml:346(para)
msgid "We configure the <filename>fence_pcmk</filename> agent (supplied with Pacemaker) to redirect any fencing requests from CMAN components (such as dlm_controld) to Pacemaker. Pacemaker's fencing subsystem lets other parts of the stack know that a node has been successfully fenced, thus avoiding the need for it to be fenced again when other subsystems notice the node is gone. <placeholder-1/>"
msgstr ""

#: Ch-Active-Active.xml:355(para)
msgid "The definition should be placed in the <constant>fencedevices</constant> section and contain: <placeholder-1/> Each <constant>clusternode</constant> must be configured to use this <quote>device</quote> by adding a <constant>fence method</constant> block that lists the node's <constant>name</constant> as the <constant>port</constant>. <placeholder-2/>"
msgstr ""

#: Ch-Active-Active.xml:376(title)
msgid "cluster.conf for a two-node cluster with fencing"
msgstr ""

#: Ch-Active-Active.xml:373(para)
msgid "Putting everything together, we have: <placeholder-1/>"
msgstr ""

#: Ch-Active-Active.xml:408(title)
msgid "Bringing the Cluster Online with CMAN"
msgstr ""

#: Ch-Active-Active.xml:409(para)
msgid "The first thing to do is check that the configuration is valid <screen>\n[root@pcmk-1 ~]# <userinput>ccs_config_validate</userinput>\nConfiguration validates\n\t</screen>"
msgstr ""

#: Ch-Active-Active.xml:416(para)
msgid "Now start CMAN <screen>\n[root@pcmk-1 ~]# <userinput>service cman start</userinput>\nStarting cluster: \n   Checking Network Manager...                             [  OK  ]\n   Global setup...                                         [  OK  ]\n   Loading kernel modules...                               [  OK  ]\n   Mounting configfs...                                    [  OK  ]\n   Starting cman...                                        [  OK  ]\n   Waiting for quorum...                                   [  OK  ]\n   Starting fenced...                                      [  OK  ]\n   Starting dlm_controld...                                [  OK  ]\n   Starting gfs_controld...                                [  OK  ]\n   Unfencing self...                                       [  OK  ]\n   Joining fence domain...                                 [  OK  ]\n[root@pcmk-1 ~]# <userinput>crm_mon -1</userinput>\n\t</screen>"
msgstr ""

#: Ch-Active-Active.xml:435(para)
msgid "Once you have confirmed that the first node is happily online, start the second node. <screen>\n[root@pcmk-2 ~]# <userinput>service cman start</userinput>\nStarting cluster: \n   Checking Network Manager...                             [  OK  ]\n   Global setup...                                         [  OK  ]\n   Loading kernel modules...                               [  OK  ]\n   Mounting configfs...                                    [  OK  ]\n   Starting cman...                                        [  OK  ]\n   Waiting for quorum...                                   [  OK  ]\n   Starting fenced...                                      [  OK  ]\n   Starting dlm_controld...                                [  OK  ]\n   Starting gfs_controld...                                [  OK  ]\n   Unfencing self...                                       [  OK  ]\n   Joining fence domain...                                 [  OK  ]\n[root@pcmk-1 ~]# <userinput>cman_tool nodes</userinput>\nNode  Sts   Inc   Joined               Name\n   1   M    548   2011-09-28 10:52:21  pcmk-1\n   2   M    548   2011-09-28 10:52:21  pcmk-2\n[root@pcmk-1 ~]# <userinput>crm_mon -1</userinput>\n\t</screen> You should now see both nodes online and services started."
msgstr ""

#: Ch-Active-Active.xml:462(title)
msgid "Create a GFS2 Filesystem"
msgstr ""

#: Ch-Active-Active.xml:464(title)
msgid "Preparation"
msgstr ""

#: Ch-Active-Active.xml:465(para)
msgid "Before we do anything to the existing partition, we need to make sure it is unmounted. We do this by tell the cluster to stop the WebFS resource. This will ensure that other resources (in our case, Apache) using WebFS are not only stopped, but stopped in the correct order."
msgstr ""

#: Ch-Active-Active.xml:470(userinput)
#, no-wrap
msgid "crm_resource --resource WebFS --set-parameter target-role --meta --parameter-value Stopped"
msgstr ""

#: Ch-Active-Active.xml:471(userinput) Ch-Active-Active.xml:621(userinput) Ch-Active-Active.xml:793(userinput)
#, no-wrap
msgid "crm_mon"
msgstr ""

#: Ch-Active-Active.xml:469(screen)
#, no-wrap
msgid "\n[root@pcmk-1 ~]# <placeholder-1/>\n[root@pcmk-1 ~]# <placeholder-2/>\n============\nLast updated: Thu Sep ¬†3 15:18:06 2009\nStack: openais\nCurrent DC: pcmk-1 - partition with quorum\nVersion: 1.1.5-bdd89e69ba545404d02445be1f3d72e6a203ba2f\n2 Nodes configured, 2 expected votes\n6 Resources configured.\n============\n\nOnline: [ pcmk-1 pcmk-2 ]\n\nMaster/Slave Set: WebDataClone\n¬† ¬† ¬† ¬† Masters: [ pcmk-1 ]\n¬† ¬† ¬† ¬† Slaves: [ pcmk-2 ]\nClusterIP¬† ¬† ¬† ¬† (ocf::heartbeat:IPaddr):¬† ¬† ¬† ¬† Started pcmk-1\n"
msgstr ""

#: Ch-Active-Active.xml:489(para)
msgid "Note that both Apache and WebFS have been stopped."
msgstr ""

#: Ch-Active-Active.xml:496(title)
msgid "Create and Populate an GFS2 Partition"
msgstr ""

#: Ch-Active-Active.xml:497(para)
msgid "Now that the cluster stack and integration pieces are running smoothly, we can create an GFS2 partition."
msgstr ""

#: Ch-Active-Active.xml:501(para)
msgid "This will erase all previous content stored on the DRBD device. Ensure you have a copy of any important data."
msgstr ""

#: Ch-Active-Active.xml:505(para)
msgid "We need to specify a number of additional parameters when creating a GFS2 partition."
msgstr ""

#: Ch-Active-Active.xml:508(para)
msgid "First we must use the -p option to specify that we want to use the the Kernel‚Äôs DLM. Next we use -j to indicate that it should reserve enough space for two journals (one per node accessing the filesystem)."
msgstr ""

#: Ch-Active-Active.xml:511(para)
msgid "Lastly, we use -t to specify the lock table name. The format for this field is clustername:fsname. For the fsname, we just need to pick something unique and descriptive and since we haven‚Äôt specified a clustername yet, we will use the default (pcmk)."
msgstr ""

#: Ch-Active-Active.xml:514(para)
msgid "To specify an alternate name for the cluster, locate the service section containing \"name: pacemaker\" in corosync.conf and insert the following line anywhere inside the block:"
msgstr ""

#: Ch-Active-Active.xml:517(para)
msgid "clustername: myname"
msgstr ""

#: Ch-Active-Active.xml:520(para)
msgid "Do this on each node in the cluster and be sure to restart them before continuing."
msgstr ""

#: Ch-Active-Active.xml:525(userinput)
#, no-wrap
msgid "mkfs.gfs2 -p lock_dlm -j 2 -t pcmk:web /dev/drbd1"
msgstr ""

#: Ch-Active-Active.xml:524(screen)
#, no-wrap
msgid "\n[root@pcmk-1 ~]# <placeholder-1/>\nThis will destroy any data on /dev/drbd1.\nIt appears to contain: data\n\nAre you sure you want to proceed? [y/n] y\n\nDevice: ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬†/dev/drbd1\nBlocksize: ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† 4096\nDevice Size ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬†1.00 GB (131072 blocks)\nFilesystem Size: ¬† ¬† ¬† ¬† ¬† 1.00 GB (131070 blocks)\nJournals: ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬†2\nResource Groups: ¬† ¬† ¬† ¬† ¬† 2\nLocking Protocol: ¬† ¬† ¬† ¬† ¬†\"lock_dlm\"\nLock Table: ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬†\"pcmk:web\"\nUUID: ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬†6B776F46-177B-BAF8-2C2B-292C0E078613\n\n[root@pcmk-1 ~]#\n"
msgstr ""

#: Ch-Active-Active.xml:543(para)
msgid "Then (re)populate the new filesystem with data (web pages). For now we‚Äôll create another variation on our home page."
msgstr ""

#: Ch-Active-Active.xml:548(userinput)
#, no-wrap
msgid "mount /dev/drbd1 /mnt/"
msgstr ""

#: Ch-Active-Active.xml:549(userinput)
#, no-wrap
msgid "cat &lt;&lt;-END &gt;/mnt/index.html"
msgstr ""

#: Ch-Active-Active.xml:554(userinput)
#, no-wrap
msgid "umount /dev/drbd1"
msgstr ""

#: Ch-Active-Active.xml:555(userinput)
#, no-wrap
msgid "drbdadm¬†verify¬†wwwdata"
msgstr ""

#: Ch-Active-Active.xml:547(screen)
#, no-wrap
msgid "\n[root@pcmk-1 ~]# <placeholder-1/>\n[root@pcmk-1 ~]# <placeholder-2/>\n&lt;html&gt;\n&lt;body&gt;My Test Site - GFS2&lt;/body&gt;\n&lt;/html&gt;\nEND\n[root@pcmk-1 ~]# <placeholder-3/>\n[root@pcmk-1 ~]# <placeholder-4/>\n[root@pcmk-1 ~]#\n"
msgstr ""

#: Ch-Active-Active.xml:563(title)
msgid "Reconfigure the Cluster for GFS2"
msgstr ""

#: Ch-Active-Active.xml:566(userinput) Ch-Active-Active.xml:653(userinput)
#, no-wrap
msgid "crm"
msgstr ""

#: Ch-Active-Active.xml:567(userinput)
#, no-wrap
msgid "cib new GFS2"
msgstr ""

#: Ch-Active-Active.xml:569(userinput)
#, no-wrap
msgid "configure delete WebFS"
msgstr ""

#: Ch-Active-Active.xml:570(userinput)
#, no-wrap
msgid "configure primitive WebFS ocf:heartbeat:Filesystem params device=\"/dev/drbd/by-res/wwwdata\" directory=\"/var/www/html\" fstype=\"gfs2\""
msgstr ""

#: Ch-Active-Active.xml:565(screen)
#, no-wrap
msgid "\n[root@pcmk-1 ~]# <placeholder-1/>\ncrm(live)# <placeholder-2/>\nINFO: GFS2 shadow CIB created\ncrm(GFS2)# <placeholder-3/>\ncrm(GFS2)# <placeholder-4/>\n"
msgstr ""

#: Ch-Active-Active.xml:572(para)
msgid "Now that we‚Äôve recreated the resource, we also need to recreate all the constraints that used it. This is because the shell will automatically remove any constraints that referenced WebFS."
msgstr ""

#: Ch-Active-Active.xml:577(userinput)
#, no-wrap
msgid "configure colocation WebSite-with-WebFS inf: WebSite WebFS"
msgstr ""

#: Ch-Active-Active.xml:578(userinput)
#, no-wrap
msgid "configure colocation fs_on_drbd inf: WebFS WebDataClone:Master"
msgstr ""

#: Ch-Active-Active.xml:579(userinput)
#, no-wrap
msgid "configure order WebFS-after-WebData inf: WebDataClone:promote WebFS:start"
msgstr ""

#: Ch-Active-Active.xml:580(userinput)
#, no-wrap
msgid "configure order WebSite-after-WebFS inf: WebFS WebSite"
msgstr ""

#: Ch-Active-Active.xml:581(userinput) Ch-Active-Active.xml:695(userinput) Ch-Active-Active.xml:750(userinput)
#, no-wrap
msgid "configure show"
msgstr ""

#: Ch-Active-Active.xml:587(emphasis)
msgid "primitive WebFS ocf:heartbeat:Filesystem \\"
msgstr ""

#: Ch-Active-Active.xml:588(emphasis)
msgid "params device=\"/dev/drbd/by-res/wwwdata\" directory=\"/var/www/html\" fstype=\"gfs2\""
msgstr ""

#: Ch-Active-Active.xml:576(screen)
#, no-wrap
msgid "\ncrm(GFS2)# <placeholder-1/>\ncrm(GFS2)# <placeholder-2/>\ncrm(GFS2)# <placeholder-3/>\ncrm(GFS2)# <placeholder-4/>\ncrm(GFS2)# <placeholder-5/>\nnode pcmk-1\nnode pcmk-2\nprimitive WebData ocf:linbit:drbd \\\n¬† ¬† ¬† ¬† params drbd_resource=\"wwwdata\" \\\n¬† ¬† ¬† ¬† op monitor interval=\"60s\"\n<placeholder-6/>\n<placeholder-7/>\nprimitive WebSite ocf:heartbeat:apache \\\n¬† ¬† ¬† ¬† params configfile=\"/etc/httpd/conf/httpd.conf\" \\\n¬† ¬† ¬† ¬† op monitor interval=\"1min\"\nprimitive ClusterIP ocf:heartbeat:IPaddr2 \\\n¬† ¬† ¬† ¬† params ip=\"192.168.122.101\" cidr_netmask=\"32\" \\\n¬† ¬† ¬† ¬† op monitor interval=\"30s\"\nms WebDataClone WebData \\\n¬† ¬† ¬† ¬† meta master-max=\"1\" master-node-max=\"1\" clone-max=\"2\" clone-node-max=\"1\" notify=\"true\"\ncolocation WebSite-with-WebFS inf: WebSite WebFS\ncolocation fs_on_drbd inf: WebFS WebDataClone:Master\ncolocation website-with-ip inf: WebSite ClusterIP\norder WebFS-after-WebData inf: WebDataClone:promote WebFS:start\norder WebSite-after-WebFS inf: WebFS WebSite\norder apache-after-ip inf: ClusterIP WebSite\nproperty $id=\"cib-bootstrap-options\" \\\n¬† ¬† ¬† ¬† dc-version=\"1.1.5-bdd89e69ba545404d02445be1f3d72e6a203ba2f\" \\\n¬† ¬† ¬† ¬† cluster-infrastructure=\"openais\" \\\n¬† ¬† ¬† ¬† expected-quorum-votes=\"2\" \\\n¬† ¬† ¬† ¬† stonith-enabled=\"false\" \\\n¬† ¬† ¬† ¬† no-quorum-policy=\"ignore\"\nrsc_defaults $id=\"rsc-options\" \\\n¬† ¬† ¬† ¬† resource-stickiness=\"100\"\n"
msgstr ""

#: Ch-Active-Active.xml:612(para) Ch-Active-Active.xml:785(para)
msgid "Review the configuration before uploading it to the cluster, quitting the shell and watching the cluster‚Äôs response"
msgstr ""

#: Ch-Active-Active.xml:617(userinput)
#, no-wrap
msgid "cib commit GFS2"
msgstr ""

#: Ch-Active-Active.xml:619(userinput) Ch-Active-Active.xml:791(userinput)
#, no-wrap
msgid "quit"
msgstr ""

#: Ch-Active-Active.xml:638(emphasis)
msgid "WebFS (ocf::heartbeat:Filesystem): Started pcmk-1"
msgstr ""

#: Ch-Active-Active.xml:616(screen)
#, no-wrap
msgid "\ncrm(GFS2)# <placeholder-1/>\nINFO: commited 'GFS2' shadow CIB to the cluster\ncrm(GFS2)# <placeholder-2/>\nbye\n[root@pcmk-1 ~]# <placeholder-3/>\n============\nLast updated: Thu Sep ¬†3 20:49:54 2009\nStack: openais\nCurrent DC: pcmk-2 - partition with quorum\nVersion: 1.1.5-bdd89e69ba545404d02445be1f3d72e6a203ba2f\n2 Nodes configured, 2 expected votes\n6 Resources configured.\n============\n\nOnline: [ pcmk-1 pcmk-2 ]\n\nWebSite (ocf::heartbeat:apache): ¬† ¬† ¬† ¬†Started pcmk-2\nMaster/Slave Set: WebDataClone\n¬† ¬† ¬† ¬† Masters: [ pcmk-1 ]\n¬† ¬† ¬† ¬† Slaves: [ pcmk-2 ]\nClusterIP¬† ¬† ¬† ¬† (ocf::heartbeat:IPaddr): ¬† ¬† ¬† ¬†Started pcmk-2\n<placeholder-4/>\n"
msgstr ""

#: Ch-Active-Active.xml:642(title)
msgid "Reconfigure Pacemaker for Active/Active"
msgstr ""

#: Ch-Active-Active.xml:643(para)
msgid "Almost everything is in place. Recent versions of DRBD are capable of operating in Primary/Primary mode and the filesystem we‚Äôre using is cluster aware. All we need to do now is reconfigure the cluster to take advantage of this."
msgstr ""

#: Ch-Active-Active.xml:648(para)
msgid "This will involve a number of changes, so we‚Äôll again use interactive mode."
msgstr ""

#: Ch-Active-Active.xml:654(userinput) Ch-Active-Active.xml:691(userinput)
#, no-wrap
msgid "cib new active"
msgstr ""

#: Ch-Active-Active.xml:652(screen)
#, no-wrap
msgid "\n[root@pcmk-1 ~]# <placeholder-1/>\n[root@pcmk-1 ~]# <placeholder-2/>\n    "
msgstr ""

#: Ch-Active-Active.xml:656(para)
msgid "There‚Äôs no point making the services active on both locations if we can‚Äôt reach them, so lets first clone the IP address. Cloned IPaddr2 resources use an iptables rule to ensure that each request only processed by one of the two clone instances. The additional meta options tell the cluster how many instances of the clone we want (one \"request bucket\" for each node) and that if all other nodes fail, then the remaining node should hold all of them. Otherwise the requests would be simply discarded."
msgstr ""

#: Ch-Active-Active.xml:663(userinput) Ch-Active-Active.xml:693(userinput)
#, no-wrap
msgid "configure clone WebIP ClusterIP ¬†\\"
msgstr ""

#: Ch-Active-Active.xml:664(userinput)
#, no-wrap
msgid "¬† ¬† ¬† ¬† meta globally-unique=\"true\" clone-max=\"2\" clone-node-max=\"2\""
msgstr ""

#: Ch-Active-Active.xml:662(screen)
#, no-wrap
msgid "\n[root@pcmk-1 ~]# <placeholder-1/>\n<placeholder-2/>\n    "
msgstr ""

#: Ch-Active-Active.xml:666(para)
msgid "Now we must tell the ClusterIP how to decide which requests are processed by which hosts. To do this we must specify the clusterip_hash parameter."
msgstr ""

#: Ch-Active-Active.xml:670(para)
msgid "Open the ClusterIP resource"
msgstr ""

#: Ch-Active-Active.xml:673(userinput)
#, no-wrap
msgid "configure edit ¬†ClusterIP"
msgstr ""

#: Ch-Active-Active.xml:673(screen)
#, no-wrap
msgid "[root@pcmk-1 ~]# <placeholder-1/>"
msgstr ""

#: Ch-Active-Active.xml:674(para)
msgid "And add the following to the params line"
msgstr ""

#: Ch-Active-Active.xml:677(screen)
#, no-wrap
msgid "clusterip_hash=\"sourceip\""
msgstr ""

#: Ch-Active-Active.xml:678(para)
msgid "So that the complete definition looks like:"
msgstr ""

#: Ch-Active-Active.xml:681(screen)
#, no-wrap
msgid "\nprimitive ClusterIP ocf:heartbeat:IPaddr2 \\ \n¬† ¬† ¬† ¬† params ip=\"192.168.122.101\" cidr_netmask=\"32\" clusterip_hash=\"sourceip\" \\\n¬† ¬† ¬† ¬† op monitor interval=\"30s\"\n    "
msgstr ""

#: Ch-Active-Active.xml:686(para)
msgid "Here is the full transcript"
msgstr ""

#: Ch-Active-Active.xml:690(userinput)
#, no-wrap
msgid "crm "
msgstr ""

#: Ch-Active-Active.xml:711(emphasis)
msgid "clone WebIP ClusterIP \\"
msgstr ""

#: Ch-Active-Active.xml:712(emphasis)
msgid "meta globally-unique=\"true\" clone-max=\"2\" clone-node-max=\"2\""
msgstr ""

#: Ch-Active-Active.xml:715(emphasis)
msgid "colocation website-with-ip inf: WebSite WebIP"
msgstr ""

#: Ch-Active-Active.xml:718(emphasis)
msgid "order apache-after-ip inf: WebIP WebSite"
msgstr ""

#: Ch-Active-Active.xml:689(screen)
#, no-wrap
msgid "\n[root@pcmk-1 ~]# <placeholder-1/>\ncrm(live)# <placeholder-2/>\nINFO: active shadow CIB created\ncrm(active)# <placeholder-3/>\n¬† ¬† ¬† ¬† meta globally-unique=\"true\" clone-max=\"2\" clone-node-max=\"2\"\ncrm(active)# <placeholder-4/>\nnode pcmk-1\nnode pcmk-2\nprimitive WebData ocf:linbit:drbd \\\n¬† ¬† ¬† ¬† params drbd_resource=\"wwwdata\" \\\n¬† ¬† ¬† ¬† op monitor interval=\"60s\"\nprimitive WebFS ocf:heartbeat:Filesystem \\\n¬† ¬† ¬† ¬† params device=\"/dev/drbd/by-res/wwwdata\" directory=\"/var/www/html\" fstype=\"gfs2\"\nprimitive WebSite ocf:heartbeat:apache \\\n¬† ¬† ¬† ¬† params configfile=\"/etc/httpd/conf/httpd.conf\" \\\n¬† ¬† ¬† ¬† op monitor interval=\"1min\"\nprimitive ClusterIP ocf:heartbeat:IPaddr2 \\\n¬† ¬† ¬† ¬† params ip=\"192.168.122.101\" cidr_netmask=\"32\" clusterip_hash=\"sourceip\" \\\n¬† ¬† ¬† ¬† op monitor interval=\"30s\"\nms WebDataClone WebData \\\n¬† ¬† ¬† ¬† meta master-max=\"1\" master-node-max=\"1\" clone-max=\"2\" clone-node-max=\"1\" notify=\"true\"\n<placeholder-5/>\n<placeholder-6/>\ncolocation WebSite-with-WebFS inf: WebSite WebFS\ncolocation fs_on_drbd inf: WebFS WebDataClone:Master\n<placeholder-7/>\norder WebFS-after-WebData inf: WebDataClone:promote WebFS:start\norder WebSite-after-WebFS inf: WebFS WebSite\n<placeholder-8/>\nproperty $id=\"cib-bootstrap-options\" \\\n¬† ¬† ¬† ¬† dc-version=\"1.1.5-bdd89e69ba545404d02445be1f3d72e6a203ba2f\" \\\n¬† ¬† ¬† ¬† cluster-infrastructure=\"openais\" \\\n¬† ¬† ¬† ¬† expected-quorum-votes=\"2\" \\\n¬† ¬† ¬† ¬† stonith-enabled=\"false\" \\\n¬† ¬† ¬† ¬† no-quorum-policy=\"ignore\"\nrsc_defaults $id=\"rsc-options\" \\\n¬† ¬† ¬† ¬† resource-stickiness=\"100\"\n    "
msgstr ""

#: Ch-Active-Active.xml:728(para)
msgid "Notice how any constraints that referenced ClusterIP have been updated to use WebIP instead. This is an additional benefit of using the crm shell."
msgstr ""

#: Ch-Active-Active.xml:732(para)
msgid "Next we need to convert the filesystem and Apache resources into clones. Again, the shell will automatically update any relevant constraints."
msgstr ""

#: Ch-Active-Active.xml:737(userinput)
#, no-wrap
msgid "configure clone WebFSClone WebFS"
msgstr ""

#: Ch-Active-Active.xml:738(userinput)
#, no-wrap
msgid "configure clone WebSiteClone WebSite"
msgstr ""

#: Ch-Active-Active.xml:736(screen)
#, no-wrap
msgid "\ncrm(active)# <placeholder-1/>\ncrm(active)# <placeholder-2/>\n    "
msgstr ""

#: Ch-Active-Active.xml:740(para)
msgid "The last step is to tell the cluster that it is now allowed to promote both instances to be Primary (aka. Master)."
msgstr ""

#: Ch-Active-Active.xml:744(userinput)
#, no-wrap
msgid "configure edit WebDataClone"
msgstr ""

#: Ch-Active-Active.xml:743(screen)
#, no-wrap
msgid "\ncrm(active)# <placeholder-1/>\n    "
msgstr ""

#: Ch-Active-Active.xml:746(para)
msgid "Change master-max to 2"
msgstr ""

#: Ch-Active-Active.xml:766(emphasis)
msgid "clone WebFSClone WebFS"
msgstr ""

#: Ch-Active-Active.xml:769(emphasis)
msgid "clone WebSiteClone WebSite"
msgstr ""

#: Ch-Active-Active.xml:770(emphasis)
msgid "colocation WebSite-with-WebFS inf: WebSiteClone WebFSClone"
msgstr ""

#: Ch-Active-Active.xml:771(emphasis)
msgid "colocation fs_on_drbd inf: WebFSClone WebDataClone:Master"
msgstr ""

#: Ch-Active-Active.xml:772(emphasis)
msgid "colocation website-with-ip inf: WebSiteClone WebIP"
msgstr ""

#: Ch-Active-Active.xml:773(emphasis)
msgid "order WebFS-after-WebData inf: WebDataClone:promote WebFSClone:start"
msgstr ""

#: Ch-Active-Active.xml:774(emphasis)
msgid "order WebSite-after-WebFS inf: WebFSClone WebSiteClone"
msgstr ""

#: Ch-Active-Active.xml:775(emphasis)
msgid "order apache-after-ip inf: WebIP WebSiteClone"
msgstr ""

#: Ch-Active-Active.xml:749(screen)
#, no-wrap
msgid "\ncrm(active)# <placeholder-1/>\nnode pcmk-1\nnode pcmk-2\nprimitive WebData ocf:linbit:drbd \\\n¬† ¬† ¬† ¬† params drbd_resource=\"wwwdata\" \\\n¬† ¬† ¬† ¬† op monitor interval=\"60s\"\nprimitive WebFS ocf:heartbeat:Filesystem \\\n¬† ¬† ¬† ¬† params device=\"/dev/drbd/by-res/wwwdata\" directory=\"/var/www/html\" fstype=\"gfs2\"\nprimitive WebSite ocf:heartbeat:apache \\\n¬† ¬† ¬† ¬† params configfile=\"/etc/httpd/conf/httpd.conf\" \\\n¬† ¬† ¬† ¬† op monitor interval=\"1min\"\nprimitive ClusterIP ocf:heartbeat:IPaddr2 \\\n¬† ¬† ¬† ¬† params ip=\"192.168.122.101\" cidr_netmask=\"32\" clusterip_hash=\"sourceip\" \\\n¬† ¬† ¬† ¬† op monitor interval=\"30s\"\nms WebDataClone WebData \\\n¬† ¬† ¬† ¬† meta master-max=\"2\" master-node-max=\"1\" clone-max=\"2\" clone-node-max=\"1\" notify=\"true\"\n<placeholder-2/>\nclone WebIP ClusterIP ¬†\\\n¬† ¬† ¬† ¬† meta globally-unique=\"true\" clone-max=\"2\" clone-node-max=\"2\"\n<placeholder-3/>\n<placeholder-4/>\n<placeholder-5/>\n<placeholder-6/>\n<placeholder-7/>\n<placeholder-8/>\n<placeholder-9/>\nproperty $id=\"cib-bootstrap-options\" \\\n¬† ¬† ¬† ¬† dc-version=\"1.1.5-bdd89e69ba545404d02445be1f3d72e6a203ba2f\" \\\n¬† ¬† ¬† ¬† cluster-infrastructure=\"openais\" \\\n¬† ¬† ¬† ¬† expected-quorum-votes=\"2\" \\\n¬† ¬† ¬† ¬† stonith-enabled=\"false\" \\\n¬† ¬† ¬† ¬† no-quorum-policy=\"ignore\"\nrsc_defaults $id=\"rsc-options\" \\\n¬† ¬† ¬† ¬† resource-stickiness=\"100\"\n    "
msgstr ""

#: Ch-Active-Active.xml:789(userinput)
#, no-wrap
msgid "cib commit active"
msgstr ""

#: Ch-Active-Active.xml:807(emphasis)
msgid "Clone Set: WebIP"
msgstr ""

#: Ch-Active-Active.xml:808(emphasis) Ch-Active-Active.xml:810(emphasis) Ch-Active-Active.xml:812(emphasis)
msgid "Started: [ pcmk-1 pcmk-2 ]"
msgstr ""

#: Ch-Active-Active.xml:809(emphasis)
msgid "Clone Set: WebFSClone"
msgstr ""

#: Ch-Active-Active.xml:811(emphasis)
msgid "Clone Set: WebSiteClone"
msgstr ""

#: Ch-Active-Active.xml:788(screen)
#, no-wrap
msgid "\ncrm(active)# <placeholder-1/>\nINFO: commited 'active' shadow CIB to the cluster\ncrm(active)# <placeholder-2/>\nbye\n[root@pcmk-1 ~]# <placeholder-3/>\n============\nLast updated: Thu Sep ¬†3 21:37:27 2009\nStack: openais\nCurrent DC: pcmk-2 - partition with quorum\nVersion: 1.1.5-bdd89e69ba545404d02445be1f3d72e6a203ba2f\n2 Nodes configured, 2 expected votes\n6 Resources configured.\n============\n\nOnline: [ pcmk-1 pcmk-2 ]\n\nMaster/Slave Set: WebDataClone\n¬† ¬† ¬† ¬† Masters: [ pcmk-1 pcmk-2 ]\n<placeholder-4/>\n<placeholder-5/>\n<placeholder-6/>\n<placeholder-7/>\n<placeholder-8/>\n<placeholder-9/>\n    "
msgstr ""

#: Ch-Active-Active.xml:815(title)
msgid "Testing Recovery"
msgstr ""

#: Ch-Active-Active.xml:817(para)
msgid "TODO: Put one node into standby to demonstrate failover"
msgstr ""

#. Put one translator per line, in the form of NAME <EMAIL>, YEAR1, YEAR2
#: Ch-Active-Active.xml:0(None)
msgid "translator-credits"
msgstr ""

