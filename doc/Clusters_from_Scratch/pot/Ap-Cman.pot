# 
# AUTHOR <EMAIL@ADDRESS>, YEAR.
#
msgid ""
msgstr ""
"Project-Id-Version: 0\n"
"POT-Creation-Date: 2011-12-31T16:43:02\n"
"PO-Revision-Date: 2011-12-31T16:43:02\n"
"Last-Translator: Automatically generated\n"
"Language-Team: None\n"
"MIME-Version: 1.0\n"
"Content-Type: application/x-publican; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. Tag: title
#, no-c-format
msgid "Using CMAN for Cluster Membership and Quorum"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Background"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<ulink url=\"http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html-single/Cluster_Suite_Overview/index.html#s2-clumembership-overview-CSO\">CMAN v3</ulink> is a Corsync plugin that monitors the names and number of active cluster nodes in order to deliver membership and quorum information to clients (such as the Pacemaker daemons)."
msgstr ""

#. Tag: para
#, no-c-format
msgid "In a traditional Corosync-Pacemaker cluster, a Pacemaker plugin is loaded to provide membership and quorum information. The motivation for wanting to use CMAN for this instead, is to ensure all elements of the cluster stack are making decisions based on the same membership and quorum data. <footnote> <para> A failure to do this can lead to what is called <literal>internal split-brain</literal> - a situation where different parts of the stack disagree about whether some nodes are alive or dead - which quickly leads to unnecessary downtime and/or data corruption. </para> </footnote>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "CMAN has been around longer than Pacemaker and is part of the Red Hat cluster stack, so it is available and supported by many distributions and other pieces of software (such as OCFS2 and GFS2). For this reason it makes sense to support it."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Adding CMAN Support"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Be sure to disable the Pacemaker plugin before continuing with this section. In most cases, this can be achieved by removing <filename>/etc/corosync/service.d/pcmk</filename> and stopping Corosync."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Adding CMAN Support - cluster.conf"
msgstr ""

#. Tag: para
#, no-c-format
msgid "The preferred approach for enabling CMAN is to configure <filename>cluster.conf</filename> and use the <filename>/etc/init.d/cman</filename> script to start Corosync. It's far easier to maintain and start automatically starts the necessary pieces for using GFS2."
msgstr ""

#. Tag: para
#, no-c-format
msgid "You can find some documentation on <ulink url=\"http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Cluster_Administration/s1-creating-cluster-cli-CA.html\">Installing CMAN and Creating a Basic Cluster Configuration File</ulink> at the Red Hat website. However please ignore the parts about <literal>Fencing</literal>, <literal>Failover Domains</literal>, or <literal>HA Services</literal> and anything to do with <literal>rgmanager</literal> and <literal>fenced</literal>. All these continue to be handled by Pacemaker in the normal manner."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Sample cluster.conf for a two-node cluster"
msgstr ""

#. Tag: programlisting
#, no-c-format
msgid "\n"
"	\n"
"&lt;?xml version=\"1.0\"?&gt;\n"
"&lt;cluster config_version=\"1\" name=\"east8\"&gt;\n"
"  &lt;logging debug=\"off\"/&gt;\n"
"  &lt;clusternodes&gt;\n"
"    &lt;clusternode name=\"pcmk-1\" nodeid=\"1\"&gt;\n"
"      &lt;fence&gt;\n"
"        &lt;method name=\"pcmk-redirect\"&gt;\n"
"          &lt;device name=\"pcmk\" port=\"pcmk-1\"/&gt;\n"
"        &lt;/method&gt;\n"
"      &lt;/fence&gt;\n"
"    &lt;/clusternode&gt;\n"
"    &lt;clusternode name=\"pcmk-3\" nodeid=\"2\"&gt;\n"
"      &lt;fence&gt;\n"
"        &lt;method name=\"pcmk-redirect\"&gt;\n"
"          &lt;device name=\"pcmk\" port=\"pcmk-3\"/&gt;\n"
"        &lt;/method&gt;\n"
"      &lt;/fence&gt;\n"
"    &lt;/clusternode&gt;\n"
"  &lt;/clusternodes&gt;\n"
"  &lt;fencedevices&gt;\n"
"    &lt;fencedevice name=\"pcmk\" agent=\"fence_pcmk\"/&gt;\n"
"  &lt;/fencedevices&gt;\n"
"&lt;/cluster&gt;\n"
"	\n"
"	"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Adding CMAN Support - corosync.conf"
msgstr ""

#. Tag: para
#, no-c-format
msgid "The alternative is to add the necessary cman configuration elements to <filename>corosync.conf</filename>. We recommend you place these directives in <filename>/etc/corosync/service.d/cman</filename> as they will differ between machines."
msgstr ""

#. Tag: para
#, no-c-format
msgid "If you choose this approach, you would continue to start and stop Corosync with its init script as previously described in this document."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Sample corosync.conf extensions for a two-node cluster"
msgstr ""

#. Tag: programlisting
#, no-c-format
msgid "\n"
"[root@pcmk-1 ~]# <userinput>cat &lt;&lt;-END &gt;&gt;/etc/corosync/service.d/cman</userinput>\n"
"cluster {\n"
"    name: beekhof\n"
"\n"
"    clusternodes {\n"
"            clusternode {\n"
"                    votes: 1\n"
"                    nodeid: 1\n"
"                    name: pcmk-1\n"
"            }\n"
"            clusternode {\n"
"                    votes: 1\n"
"                    nodeid: 2\n"
"                    name: pcmk-2\n"
"            }\n"
"    }\n"
"    cman {\n"
"            expected_votes: 2\n"
"            cluster_id: 123\n"
"            nodename: `uname -n`\n"
"            two_node: 1\n"
"            max_queued: 10\n"
"    }\n"
"}\n"
"\n"
"service {\n"
"    name: corosync_cman\n"
"    ver: 0\n"
"}\n"
"\n"
"quorum {\n"
"    provider: quorum_cman\n"
"}\n"
"END\n"
"	"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Verify that <literal>nodename</literal> was set appropriately on each host."
msgstr ""

